<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dream Stage — Welcome!</title>
  <link rel="preload" href="fonts/SuperMario256.ttf" as="font" type="font/ttf" crossorigin>

  <style>
    :root {
      /* Wider card + slightly smaller type for better fit */
      --card-w: min(1040px, 96vw);
      --pad: clamp(16px, 3vw, 28px);
      --radius: 16px;

      --title-size: clamp(22px, 3.2vw, 36px);
      --brand-size: clamp(12px, 2.1vw, 16px);
      --line-size: clamp(12px, 2.2vw, 16px);
      --rank-size: clamp(38px, 8vw, 84px);
      --sub-size: clamp(13px, 2.4vw, 16px);
      --btn-size: clamp(14px, 2.6vw, 18px);
    }

    /* Allow vertical scroll; prevent horizontal wobble */
    html,
    body {
      height: 100%;
      margin: 0;
      overflow-x: hidden;
      overflow-y: auto;
      background: radial-gradient(1200px 800px at 50% -10%, #bfe6ff, #9ecbf2 60%, #7fb4e6 100%);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Container no longer centers via grid: we scroll the page instead */
    .sky {
      position: relative;
      min-height: 100svh;
      width: 100%;
      padding-block: clamp(12px, 3vh, 28px);
    }

    /* Confetti covers the viewport while the page can scroll */
    #confetti {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100svh;
      display: block;
      pointer-events: none;
      z-index: 0;
    }

    .card {
      position: relative;
      z-index: 1;
      width: var(--card-w);
      margin: 0 auto clamp(32px, 8vh, 64px);
      /* bottom space so button never clips */
      padding: var(--pad);
      border-radius: var(--radius);
      border: 3px solid #000;
      background:
        linear-gradient(0deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.06)),
        url('images/bg.png');
      background-size: cover;
      color: #111;
      text-align: center;
    }

    .logo {
      width: clamp(84px, 16vw, 136px);
      height: auto;
      display: block;
      margin: 0 auto 6px;
    }

    .brand {
      margin: 2px 0 10px;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: var(--brand-size);
      letter-spacing: 1.5px;
      color: #000;
    }

    .title {
      margin: 4px 0 4px;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: var(--title-size);
      line-height: 1.05;
      color: #000;
    }

    .line {
      margin: 2px 0;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: var(--line-size);
      color: #000;
    }

    .rank {
      margin: 4px 0;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: var(--rank-size);
      font-weight: 600;
      color: #000;
      letter-spacing: 1px;
    }

    .sub {
      margin: 6px auto 14px;
      max-width: 90ch;
      font-size: var(--sub-size);
      color: #0b1220;
    }

    .long-copy {
      margin: 12px auto 8px;
      text-align: center;
      max-width: min(96ch, 98%);
      color: #000;
      font-size: var(--sub-size);
      line-height: 1.55;
      background: rgba(255, 255, 255, .35);
      border: 2px solid #000;
      border-radius: 12px;
      padding: clamp(10px, 2.2vw, 16px);
    }

    .long-copy p {
      margin: 0 0 10px;
    }

    .long-copy p:last-child {
      margin-bottom: 0;
    }

    .btn {
      display: inline-block;
      margin-top: 12px;
      padding: 12px 18px;
      border-radius: 12px;
      border: 3px solid #000;
      background: linear-gradient(#ff3b30, #c1271c);
      color: #fff;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: var(--btn-size);
      text-decoration: none;
      box-shadow: 0 6px 0 #6b0000;
      letter-spacing: .4px;
      transform: translateY(0);
      transition: transform .08s ease, filter .15s ease;
    }

    .btn:active {
      transform: translateY(2px);
    }

    .btn:hover {
      filter: brightness(1.05);
    }

    /* Extra help on very short viewports (e.g., landscape phones) */
    @media (max-height: 640px) {
      :root {
        --title-size: clamp(20px, 2.8vw, 30px);
        --rank-size: clamp(26px, 5vw, 52px);
      }

      .card {
        margin-bottom: clamp(40px, 12vh, 80px);
      }
    }

    /* --- Floating WhatsApp button --- */
    .wa-fab {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      /* true horizontal center */
      bottom: max(16px, env(safe-area-inset-bottom, 0px) + 12px);
      z-index: 100;
      /* above card & confetti */
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 18px;
      border-radius: 999px;
      border: 3px solid #000;
      background: #25D366;
      /* WhatsApp green */
      color: #fff;
      text-decoration: none;
      font-family: SuperMario256, system-ui, sans-serif;
      font-size: clamp(14px, 2.6vw, 18px);
      box-shadow: 0 6px 0 #127c3b, 0 16px 40px rgba(0, 0, 0, .25);
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .wa-fab:hover {
      filter: brightness(1.06);
    }

    .wa-fab:active {
      transform: translateX(-50%) translateY(2px);
    }

    /* Inline WA icon sizing */
    .wa-fab svg {
      width: 22px;
      height: 22px;
      display: block;
      filter: drop-shadow(0 1px 0 rgba(0, 0, 0, .35));
    }
  </style>
</head>

<body>
  <div class="sky">
    <canvas id="confetti"></canvas>

    <div class="card">
      <img class="logo" src="images/logo.png" alt="Dream Stage" />
      <div class="brand">DREAM STAGE</div>

      <h1 class="title">THANK YOU FOR JOINING!</h1>

      <p class="line">YOU ARE OUR</p>
      <div class="rank"><span id="rank">—</span></div>
      <p class="line">COMMUNITY MEMBER</p>

      <p class="sub">Together we make every dream take center stage.</p>

      <div class="long-copy">
        <p><strong>Congratulations!</strong></p>
        <p>You’ve walked this path with us and officially stepped onto the Dream Stage. We’re delighted to welcome you
          as our <strong><span id="rank2">[Xth]</span></strong> community member — whether you’re an artist, curator,
          supporter, business, or art lover, you’re now part of a movement bringing creativity to life.</p>
        <p>Dream Stage is an invitation-only community, and soon, members will be able to refer a select few to join.
          Now let’s keep the momentum going! Join us on WhatsApp to connect directly, be the first to explore our
          features (starting with your very own EPK), and be part of shaping what’s next.</p>
      </div>

      <a class="wa-fab" id="waCta"
        href="https://wa.me/916361679383?text=Hi%20Dream%20Stage!%20I%20just%20joined%20the%20community."
        target="_blank" rel="noopener noreferrer" aria-label="Redirect to WhatsApp">

        <!-- WhatsApp logo (inline SVG, no external asset needed) -->
        <svg viewBox="0 0 32 32" aria-hidden="true">
          <path fill="#000"
            d="M19.11 17.35c-.28-.14-1.62-.8-1.87-.89-.25-.09-.43-.14-.61.14-.18.28-.7.89-.86 1.07-.16.18-.32.2-.6.07-.28-.14-1.19-.44-2.27-1.4-.84-.75-1.41-1.68-1.58-1.96-.16-.28-.02-.43.12-.57.12-.12.28-.32.43-.48.14-.16.18-.27.28-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.02-.22-.53-.45-.45-.61-.45h-.52c-.18 0-.48.07-.73.34-.25.27-.96.95-.96 2.32 0 1.37.99 2.7 1.13 2.89.14.18 1.95 2.98 4.73 4.17.66.28 1.18.45 1.58.57.66.21 1.26.18 1.73.11.53-.08 1.62-.66 1.86-1.3.23-.64.23-1.19.16-1.3-.07-.11-.25-.18-.53-.32z" />
          <path fill="#25D366"
            d="M26.03 5.97A12.93 12.93 0 0 0 16 2 12.98 12.98 0 0 0 3 15a12.7 12.7 0 0 0 1.84 6.66L3 30l8.57-1.8A12.98 12.98 0 0 0 29 15c0-3.45-1.34-6.69-3.97-9.03zM16 27.3c-2.27 0-4.49-.65-6.43-1.89l-.46-.29-5.19 1.09 1.11-5.07-.3-.5A11.23 11.23 0 0 1 4.7 16C4.7 9.81 9.8 4.7 16 4.7S27.3 9.81 27.3 16 22.19 27.3 16 27.3z" />
        </svg>
        <span>Redirect to WhatsApp</span>
      </a>
    </div>
  </div>

  <script src="js/community.js"></script>
  <script>
    // Keep the ordinal in the long copy synced with the big counter
    (function(){
      var r = document.getElementById('rank');
      var r2 = document.getElementById('rank2');
      if (!r || !r2) return;
      function sync(){
        r2.textContent = r.textContent && r.textContent.trim() ? r.textContent : '[Xth]';
      }
      sync();
      new MutationObserver(sync).observe(r, { childList:true, characterData:true, subtree:true });
      window.addEventListener('load', sync);
    })();
  
    // Auto-open WhatsApp after 8s in a NEW TAB; fallback to same tab if blocked
    (function(){
      var wa = document.getElementById('waCta');
      if (!wa) return;
  
      var timer = setTimeout(function(){
        var popup = window.open(wa.href, '_blank', 'noopener,noreferrer');
        if (!popup || popup.closed || typeof popup.closed === 'undefined') {
          // Popup likely blocked — fallback to same-tab navigation
          window.location.href = wa.href;
        }
      }, 8000);
  
      // If user clicks manually, cancel auto-open
      wa.addEventListener('click', function(){
        clearTimeout(timer);
      }, { once: true });
    })();
  </script>
  
</body>

</html>